import{i as we,B as Ee,a as ve,u as Se,r as f,b as N,c as J,d as ee,j as e,F as q,e as ie,I as P,f as s,g as r,T as m,h as Ae,k as V,R as F,l as Ce,m as O,n as ke,o as Ie,p as _e,q as M,s as H,t as Q,P as R,H as D,v as I,w as te,x as k,M as ne,S as Le,y as Pe,z as Oe,A as U,C as Re,D as me,E as Te,G as $e,J as Be,K as He,L as De,N as Me,O as L,Q as Fe,U as Ge,V as je,Z as Ue,W as ze,X as Ve}from"./vendor-Df_8jKT1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();const Qe={},We="Trang chủ",Ke="Hỗ trợ",Je="Cá nhân",qe="Đăng nhập",Ze="Thông tin cá nhân",Ye="Hơn nữa",Xe="Đã duyệt",et="Đặt chỗ",tt="Quản lý",nt="Xác thực",st="Tham gia",at="Mời +",rt="Tổng tiền",lt="Tín dụng",ct="Chưa thanh toán",it="Đã thanh toán",ot="Chức năng khác",dt="Mẫu của tôi",mt="Mục yêu thích",ht="Hợp đồng điện tử",gt="Đăng ký hợp đồng",pt="Đăng xuất",ut="Cước",ft="Hàng hóa",xt="Giao nhanh",Nt="Gợi ý lịch tàu",yt="Ngày khởi hành",bt={Home:We,Support:Ke,Me:Je,"Quote for Shanghai–Singapore?":"Báo giá tuyến Thượng Hải – Singapore?","ONE local fee Shanghai–Bangkok?":"Phí của hãng tàu ONE tuyến Thượng Hải – Bangkok bao nhiêu?","Ask me anything":"Hãy hỏi tôi",Login:qe,Profile:Ze,"New Order":"Đơn hàng mới",More:Ye,Approved:Xe,Booking:et,"Pre-shipment":"Chuẩn bị giao hàng","My Orders":"Đơn hàng của tôi","Enterprise Management":"Quản lý doanh nghiệp",Manage:tt,Verify:nt,Join:st,Invite:at,Amount:rt,Credit:lt,Unbilled:ct,Billed:it,Other:ot,Template:dt,Collection:mt,Contract:ht,Register:gt,"Wechat Push":"Thông báo WeChat","Change Password":"Đổi mật khẩu",Logout:pt,Freight:ut,Cargo:ft,Express:xt,Recommend:Nt,"Go to find more data":"Hãy khám phá thêm lịch tàu~",ETD:yt},wt="首页",Et="小泛",vt="我的",St="个人信息",At="全部订单",Ct="已审",kt="订舱",It="管理公司",_t="认证公司",Lt="加入企业",Pt="邀请加入",Ot="总金额",Rt="信用额度",Tt="未开票",$t="已开票",Bt="其他功能",Ht="我的模板",Dt="我的收藏",Mt="电子合同",Ft="合同注册",Gt="退出账号",jt="海运运价",Ut="箱货信息",zt="北美快递",Vt="现舱推荐",Qt="开航日",Wt="查询",Kt="历史记录",Jt="目的港",qt="起始港",Zt="日历",Yt="周一",Xt="周二",en="周三",tn="周四",nn="周五",sn="周六",an="周日",rn="登录",ln="确定",cn="取消",on="筛选",dn="数据导出",mn="条件筛选",hn="清空",gn="最快",pn="直达",un="船公司筛选",fn="重置",xn="邮箱",Nn="手机",yn="地址",bn="微信",wn="QQ",En="公司名称",vn="用户名",Sn="修改",An="提交",Cn="zh",kn="航线",In="航程",_n="航次",Ln="天直达",Pn="船期表",On="费用清单",Rn="备注",Tn="截止日期",$n="订舱",Bn={Home:wt,Support:Et,Me:vt,"Quote for Shanghai–Singapore?":"上海-新加坡报价是多少？","ONE local fee Shanghai–Bangkok?":"上海-曼谷 ONE船司本地费是多少？","Ask me anything":"有什么问题尽管问我","Click to login":"请点击登录",Profile:St,"New Order":"新订单",More:At,Approved:Ct,Booking:kt,"Pre-shipment":"预配","My Orders":"我的订单","Enterprise Management":"企业管理",Manage:It,Verify:_t,Join:Lt,Invite:Pt,Amount:Ot,Credit:Rt,Unbilled:Tt,Billed:$t,Other:Bt,Template:Ht,Collection:Dt,Contract:Mt,Register:Ft,"Wechat Push":"微信推送","Change Password":"修改密码",Logout:Gt,Freight:jt,Cargo:Ut,Express:zt,Recommend:Vt,"Go to find more data":"快去运价查询发现更多数据~",ETD:Qt,Search:Wt,History:Kt,"Please select a port":"请选择目的港",Destination:Jt,Origin:qt,"Destination Search":"目的港搜索","Chinese/English/Initial":"中文/英文/首字母","Southeast Asia Line":"东南亚线","America Line":"美加线","Europe Line":"欧洲线","Africa Line":"非洲线","Oceania Line":"大洋洲线","Asia Line":"亚洲线","Middle East Line":"中东线","Mediterranean Line":"地中海线","South America Line":"南美线","Middle East & Indian Subcontinent Line":"中东印巴线","Central & South America Line":"中南美线","China, Japan & Korea Line":"中日韩线","Australia/New Zealand Line":"澳新线","Black Sea Line":"黑海线","Caribbean Line":"加勒比海线","Red Sea Line":"红海线","Searching...":"搜索中...",Calendar:Zt,MON:Yt,TUE:Xt,WED:en,THU:tn,FRI:nn,SAT:sn,SUN:an,"Welcome to FanYuan!":"欢迎来到泛远","I have read and agree to the":"我已阅读同意","Terms ":"《服务协议》"," Privacy Policy.":"《隐私政策》","&":"与","Authorized Login":"授权登录","Phone Number Login":"手机号快捷登录","Authorize Login":"授权登录",Login:rn,"Enter phone number":"请输入手机号","Verification Code":"请输入验证码","Get code":"获取验证码","Business Registration":"企业注册","Forget Password":"忘记密码","Phone Login":"手机号登录","Account Login":"账号密码登录","Enter phone number/account":"请输入手机号/用户名","Enter password":"请输入密码","Please accept the privacy policy first":"请先同意隐私政策","Invalid phone number format":"手机号格式错误","Verification code is required":"验证码不能为空","Enter the 4-digit code":"请输入四位的验证码","Phone number verification is required, please complete the operation on your phone.":"需要验证手机号,请到手机上进行操作",Confirm:ln,Cancel:cn,"Please log in first!":"请先登录",Filter:on,Export:dn,"Cancel Export":"取消导出",Conditions:mn,Clear:hn,Fastest:gn,Direct:pn,Carrier:un,Reset:fn,"Edit Profile":"编辑资料",Email:xn,Phone:Nn,Address:yn,Wechat:bn,QQ:wn,Company:En,Username:vn,"Please enter":"请输入",Modify:Sn,Submit:An,"Select Date":"选择日期",en:Cn,"Origin Port":"起运港","Origin Terminal":"起运港码头","Destination Port":"目的港","Destination Terminal":"目的港码头",Route:kn,Voyage:In,"ETD & ETA":"开航与预计到达时间",Vessel:_n,days:Ln,Schedule:Pn,"More Quotes":"更多报价",Surcharge:On,Remark:Rn,"Sailing Date":"开航日",Deadline:Tn,"Effective Date":"生效日期","Week 1":"第一周","Week 2":"第二周","Week 3":"第三周","Week 4":"第四周","Week 5":"第五周","Week 6":"第六周","Week 7":"第七周","Week 8":"第八周","Week 9":"第九周","Week 10":"第十周","Add Charges":"添加费用",Book:$n,"Get Quote":"获取报价单"};we.use(Ee).use(ve).init({fallbackLng:"en",resources:{en:{translation:Qe},vi:{translation:bt},zh:{translation:Bn}},interpolation:{escapeValue:!1}});const Hn={title:"Fargo",textColor:"black",leftButton:"none",statusBar:"transparent",selfControlLoading:!1,hideAndroidBottomNavigationBar:!1,hideIOSSafeAreaBottom:!1,actionBarHidden:!0},Dn=[],Mn=[],Fn=[],Gn={name:"zaui-coffee",primaryColor:"#006af5",prefixCurrencySymbol:!1,currencySymbol:"đ",headerLogo:""},he={app:Hn,listCSS:Dn,listSyncJS:Mn,listAsyncJS:Fn,template:Gn};function jn(t){return t(he)}const Un=window.innerHeight;function zn(){const[t,n]=f.useState(!1);return f.useEffect(()=>{const a=()=>{n(window.innerHeight+160<Un)};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),t}function C({type:t,text:n}){const a=Se();return()=>a.openSnackbar({type:t||"info",text:n||"Chức năng dành cho các bên tích hợp phát triển...",position:"top",duration:1e3})}const K={"/":{label:"Home",icon:e(P,{icon:"zi-home"}),activeIcon:e("img",{src:"assets/icons/icon-fargo.png",alt:"fargo"})},"/chatmsg":{label:"Support",icon:e("img",{src:"assets/icons/icon-supporter1.png",alt:"supporter"}),activeIcon:e("img",{src:"assets/icons/icon-supporter.png",alt:"supporter"})},"/profile":{label:"Me",icon:e(P,{icon:"zi-user"})}},Vn=["/search","/category","/result"],Qn=()=>{const{t}=N(),n=zn(),a=J(),o=ee();return f.useMemo(()=>Vn.includes(o.pathname),[o])||n?e(q,{}):e(ie,{id:"footer",activeKey:o.pathname,onChange:a,className:"z-50",children:Object.keys(K).map(d=>{const p=d==="/",i=o.pathname===d;return e(ie.Item,{label:p?i?"":t("Home"):t(K[d].label),icon:K[d].icon,activeIcon:K[d].activeIcon},d)})})},X={};function ge(t=document.body){if(t.scrollHeight>t.clientHeight)return t;for(let n=0;n<t.children.length;n++){const a=t.children[n],o=ge(a);if(o)return o}return null}const Wn=()=>{const t=ee();return f.useEffect(()=>{const n=ge();if(n){const a=`${t.pathname}${t.search}`;X[a]&&n.scrollTo(0,X[a]);const o=c=>{X[a]=n.scrollTop};return n.addEventListener("scroll",o),()=>n.removeEventListener("scroll",o)}return()=>{}},[t]),e(q,{})},Kn=()=>s(q,{children:[e("img",{src:"https://www.dadaex.cn/assets/upload/wximg/homePage-1.png",className:"w-full h-auto object-cover",alt:"banner"}),e(r,{className:"absolute top-7 left-6 z-10",children:e(m,{className:"text-white text-lg font-bold drop-shadow-md",children:"Fargo"})})]});function Jn(t){return new Promise(n=>setTimeout(n,t))}const qn=[{id:"0",chi:"海运运价",eng:"Freight",vie:"Cước",icon:"assets/icons/icon-boat1.png"},{id:"1",chi:"箱货信息",eng:"Cargo",vie:"Hàng hóa",icon:"assets/icons/icon-container.png"},{id:"2",chi:"北美快递",eng:"Express",vie:"Giao nhanh",icon:"assets/icons/icon-box.png"},{id:"3",chi:"我的收藏",eng:"Collection",vie:"Bộ sưu tập",icon:"assets/icons/icon-folder.png"},{id:"4",chi:"我的订单",eng:"My Orders",vie:"Đơn hàng",icon:"assets/icons/icon-list.png"},{id:"5",chi:"电子合同",eng:"Contract",vie:"Hợp đồng",icon:"assets/icons/icon-wishlist.png"}],Zn=[{id:"0",route:"东南亚线",routeEng:"Southeast Asia Line",des:[{id:"0",name:"曼谷",nameEng:"BANGKOK"},{id:"1",name:"海防",nameEng:"HAIPHONG"},{id:"2",name:"胡志明",nameEng:"HO CHI MINH"},{id:"3",name:"雅加达",nameEng:"JAKARTA"},{id:"4",name:"林查班",nameEng:"LAEM CHABANG"},{id:"5",name:"马尼拉",nameEng:"MANILA"},{id:"6",name:"槟城",nameEng:"PENANG"},{id:"7",name:"巴生",nameEng:"PORT KLANG"},{id:"8",name:"新加坡",nameEng:"SINGAPORE"},{id:"9",name:"泗水",nameEng:"SURABAYA"},{id:"10",name:"三宝垄",nameEng:"SEMARANG"},{id:"11",name:"仰光",nameEng:"YANGON"}]},{id:"1",route:"美加线",routeEng:"America Line",des:[{id:"0",name:"查尔斯顿",nameEng:"CHARLESTON"},{id:"1",name:"长滩",nameEng:"LONG BEACH"},{id:"2",name:"休斯顿",nameEng:"HOUSTON"},{id:"3",name:"洛杉矶",nameEng:"LOS ANGELES"},{id:"4",name:"迈阿密",nameEng:"MIAMI"},{id:"5",name:"纽约",nameEng:"NEW YORK"},{id:"6",name:"蒙特利尔",nameEng:"MONTREAL"},{id:"7",name:"奥克兰",nameEng:"OAKLAND"},{id:"8",name:"费城",nameEng:"PHILADELPHIA"},{id:"9",name:"萨凡纳",nameEng:"SAVANNAH"},{id:"10",name:"西雅图",nameEng:"SEATTLE, WA"},{id:"11",name:"温哥华",nameEng:"VANCOUVER"}]},{id:"2",route:"欧洲线",routeEng:"Europe Line",des:[{id:"0",name:"奥胡斯",nameEng:"AARHUS"},{id:"1",name:"安特卫普",nameEng:"ANTWERP"},{id:"2",name:"都柏林",nameEng:"DUBLIN"},{id:"3",name:"费利克斯托",nameEng:"FELIXSTOWE"},{id:"4",name:"弗雷德里克",nameEng:"FREDERIKSTED"},{id:"5",name:"格但斯克",nameEng:"GDANSK"},{id:"6",name:"哥德堡",nameEng:"GOTHENBURG"},{id:"7",name:"汉堡",nameEng:"HAMBURG"},{id:"8",name:"赫尔辛基",nameEng:"HELSINKI"},{id:"9",name:"勒阿佛尔",nameEng:"LE HAVRE"},{id:"10",name:"里斯本",nameEng:"LISBON"},{id:"11",name:"鹿特丹",nameEng:"ROTTERDAM"}]},{id:"3",route:"地中海线",routeEng:"Mediterranean Line",des:[{id:"0",name:"阿什杜德",nameEng:"ASHDOD"},{id:"1",name:"巴塞罗那",nameEng:"BARCELONA"},{id:"2",name:"贝鲁特",nameEng:"BEIRUT"},{id:"3",name:"福斯",nameEng:"FOS"},{id:"4",name:"热那亚",nameEng:"GENOVA"},{id:"5",name:"伊斯坦布尔",nameEng:"ISTANBUL"},{id:"6",name:"利马索尔",nameEng:"LIMASSOL"},{id:"7",name:"马尔萨什洛克",nameEng:"MARSAXLOKK"},{id:"8",name:"比雷埃夫斯",nameEng:"PIRAEUS"},{id:"9",name:"塞德港",nameEng:"PORT SAID"},{id:"10",name:"里耶卡",nameEng:"RIJEKA"},{id:"11",name:"斯法克斯",nameEng:"SFAX"}]},{id:"4",route:"中东印巴线",routeEng:"Middle East & Indian Subcontinent Line",des:[{id:"0",name:"巴林",nameEng:"BAHRAIN"},{id:"1",name:"阿巴斯港",nameEng:"BANDAR ABBAS"},{id:"2",name:"加尔各答",nameEng:"CALCUTTA"},{id:"3",name:"吉大港",nameEng:"CHITTAGONG"},{id:"4",name:"科伦坡",nameEng:"COLOMBO"},{id:"5",name:"杰贝阿里",nameEng:"JEBEL ALI"},{id:"6",name:"卡拉奇",nameEng:"KARACHI"},{id:"7",name:"科威特",nameEng:"KUWAIT"},{id:"8",name:"那瓦西瓦",nameEng:"NHAVA SHEVA"},{id:"9",name:"利雅得",nameEng:"RIYADH"},{id:"10",name:"索哈尔",nameEng:"SOHAR"},{id:"11",name:"乌姆盖斯尔尔",nameEng:"UMM QASR"}]},{id:"5",route:"中南美线",routeEng:"Central & South America Line",des:[{id:"0",name:"阿卡胡特拉",nameEng:"ACAJUTLA"},{id:"1",name:"亚松森",nameEng:"ASUNCION"},{id:"2",name:"布埃纳文图拉",nameEng:"BUENAVENTURA"},{id:"3",name:"布宜诺斯艾利斯",nameEng:"BUENOS AIRES"},{id:"4",name:"卡亚俄",nameEng:"CALLAO"},{id:"5",name:"瓜亚基尔",nameEng:"GUAYAQUIL"},{id:"6",name:"曼萨尼约",nameEng:"MANZANILLO"},{id:"7",name:"蒙得维的亚",nameEng:"MONTEVIDEO"},{id:"8",name:"卡贝罗港",nameEng:"PUERTO CABELLO"},{id:"9",name:"夸特扎尔港",nameEng:"PUERTO QUETZAL"},{id:"10",name:"圣安东尼奥",nameEng:"SAN ANTONIO"},{id:"11",name:"桑托斯",nameEng:"SANTOS"}]},{id:"6",route:"非洲线",routeEng:"Africa Line",des:[{id:"0",name:"阿比让",nameEng:"ABIDJAN"},{id:"1",name:"阿尔及尔",nameEng:"ALGIERS"},{id:"2",name:"阿帕帕",nameEng:"APAPA"},{id:"3",name:"科托努",nameEng:"COTONOU"},{id:"4",name:"达累斯萨拉姆",nameEng:"DAR ES SALAAM"},{id:"5",name:"德班",nameEng:"DURBAN"},{id:"6",name:"拉各斯",nameEng:"LAGOS"},{id:"7",name:"洛美",nameEng:"LOME"},{id:"8",name:"马塔迪",nameEng:"MATADI"},{id:"9",name:"蒙巴萨",nameEng:"MOMBASA"},{id:"10",name:"特马",nameEng:"TEMA"},{id:"11",name:"廷坎",nameEng:"TIN CAN"}]},{id:"7",route:"中日韩线",routeEng:"China, Japan & Korea Line",des:[{id:"0",name:"釜山",nameEng:"BUSAN"},{id:"1",name:"香港",nameEng:"HONG KONG"},{id:"2",name:"仁川",nameEng:"INCHON"},{id:"3",name:"基隆",nameEng:"KEELUNG"},{id:"4",name:"神户",nameEng:"KOBE"},{id:"5",name:"横滨",nameEng:"YOKOHAMA"}]},{id:"8",route:"澳新线",routeEng:"Australia/New Zealand Line",des:[{id:"0",name:"阿德莱德",nameEng:"ADELAIDE"},{id:"1",name:"奥克兰",nameEng:"AUCKLAND"},{id:"2",name:"布里斯班",nameEng:"BRISBANE"},{id:"3",name:"利特尔顿",nameEng:"LYTTELTON"},{id:"4",name:"墨尔本",nameEng:"MELBOURNE"},{id:"5",name:"悉尼",nameEng:"SYDNEY"}]},{id:"9",route:"黑海线",routeEng:"Black Sea Line",des:[{id:"0",name:"康斯坦察",nameEng:"CONSTANTA"},{id:"1",name:"新罗西斯克",nameEng:"NOVOROSSIYSK"},{id:"2",name:"敖德萨",nameEng:"ODESSA"},{id:"3",name:"波季",nameEng:"POTI"},{id:"4",name:"里耶卡",nameEng:"RIJEKA"},{id:"5",name:"瓦尔纳",nameEng:"VARNA"}]},{id:"10",route:"加勒比海线",routeEng:"Caribbean Line",des:[{id:"0",name:"考塞多",nameEng:"CAUCEDO"},{id:"1",name:"金斯敦",nameEng:"KINGSTON"},{id:"2",name:"帕拉马里博",nameEng:"PARAMARIBO"},{id:"3",name:"太子港",nameEng:"PORT AU PRINCE"},{id:"4",name:"圣何塞",nameEng:"SAN JOSE"},{id:"5",name:"圣胡安",nameEng:"SAN JUAN"}]},{id:"11",route:"红海线",routeEng:"Red Sea Line",des:[{id:"0",name:"亚丁",nameEng:"ADEN"},{id:"1",name:"亚喀巴",nameEng:"AQABA"},{id:"2",name:"哈马德港",nameEng:"HAMAD"},{id:"3",name:"吉达",nameEng:"JEDDAH"}]}],Yn=()=>{window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},T=Ae.create({baseURL:"https://www.dadaex.cn/api",timeout:3e4,headers:{"Content-Type":"application/json"}});T.interceptors.request.use(async t=>{try{const a=(await V.getStorage({keys:["Authorization"]}))?.Authorization;a&&(t.headers.Authorization=a)}catch(n){console.warn("No token in storage:",n)}return t},t=>Promise.reject(t));T.interceptors.response.use(t=>{const{status:n,data:a}=t;return n===200?t:Promise.reject(a)},t=>(t.response?.status===401?(alert("请登录"),setTimeout(()=>{Yn()},1500)):t.response?.status===500&&alert(t.response.data.errors),Promise.reject(t)));const Xn=async t=>{try{return(await T.get(`/wx/wxLogin?password=${t.password}&username=${t.phone}`)).data}catch{return!1}},es=async t=>{try{return(await T.get(`/wx/phoneLogin?code=${t.code}&code=${t.phone}`)).data}catch{return!1}},ts=async t=>{try{return(await T.get(`/user/${t}`)).data}catch{return!1}},ns=async t=>{try{return(await T.get(`/wx/captcha?phone=${t}`)).data}catch{return!1}};F({key:"user",get:async()=>{const{userInfo:t}=await Ce({autoRequestPermission:!0});return t}});const ss=F({key:"fargoCategories",get:()=>qn}),pe=F({key:"fargoDestination",get:()=>Zn}),se=O({key:"keyword",default:""}),as=F({key:"result",get:async({get:t})=>{const n=t(se);if(!n.trim())return[];const a=t(pe);return await Jn(500),a?.map(c=>({...c,des:c?.des?.filter(d=>d?.nameEng?.trim()?.toLowerCase()?.includes(n?.trim()?.toLowerCase()))}))}}),ae=O({key:"selectedDestination",default:null}),rs=O({key:"selectedOrigin",default:"SHANGHAI"}),ue=O({key:"historySearchFreight",default:[]}),W=O({key:"freightSea",default:{data:[],date:[],surcharge:[],surchargeSpecial:[],carrier:[]}}),fe=O({key:"freightIndex",default:null}),re=O({key:"triggerLogin",default:0}),le=F({key:"userAuth",get:async({get:t})=>{t(re);try{const n=await V.getStorage({keys:["Authorization"]});if(!n?.Authorization)return null;const a=ke(n?.Authorization);return a?{token:n?.Authorization,user:a}:null}catch(n){return console.warn("Get token error:",n),null}}}),ls=F({key:"userInfo",get:async({get:t})=>{const n=t(le);if(console.log("userAuth",n),!n)return null;const a=await ts(n?.user?.userId||0);return console.log("res",a),a.message==="success"?a.user:null}});O({key:"selectedDeliveryTime",default:+new Date});const cs=O({key:"requestLocationTries",default:0}),is=O({key:"requestPhoneTries",default:0});F({key:"location",get:async({get:t})=>{if(t(cs)){const{latitude:a,longitude:o,token:c}=await Ie({fail:console.warn});if(a&&o)return{latitude:a,longitude:o};if(c)return console.warn("Sử dụng token này để truy xuất vị trí chính xác của người dùng",c),console.warn("Chi tiết tham khảo: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Giả lập vị trí mặc định: VNG Campus"),{latitude:"10.7287",longitude:"106.7317"}}return!1}});F({key:"phone",get:async({get:t})=>{if(t(is))try{const{number:a,token:o}=await _e({fail:console.warn});return a||(console.warn("Sử dụng token này để truy xuất số điện thoại của người dùng",o),console.warn("Chi tiết tham khảo: ","https://mini.zalo.me/blog/thong-bao-thay-doi-luong-truy-xuat-thong-tin-nguoi-dung-tren-zalo-mini-app"),console.warn("Giả lập số điện thoại mặc định: 0337076898"),"0337076898")}catch(a){return console.error(a),!1}return!1}});O({key:"orderNote",default:""});const os=()=>{const{t}=N(),n=M(ss),a=J(),o=c=>{c==="0"?a("/freight"):c==="2"&&a("/express")};return e(r,{className:"bg-white grid grid-cols-3 gap-4 p-4",children:n.slice(0,6).map((c,d)=>s("div",{onClick:()=>o(c?.id),className:"flex flex-col space-y-2 items-center",children:[e("img",{className:"w-12 h-12",src:c.icon}),e(m,{size:"xxSmall",className:"text-gray",children:t(c.eng)})]},d))})},xe=({children:t,title:n,padding:a="all",...o})=>s(r,{className:`bg-background ${a==="all"?"p-4 space-y-4":""} ${a==="title-only"?"py-4 space-y-4":""}`,...o,children:[e(m.Title,{className:`${a==="title-only"?"px-4":""}`,children:n}),t]}),ce=async(t,n,a)=>{try{return(await T.post("/client/freight/sea",{start_port:t,end_port:n,page:1,rank:"asc",sizeset:"20GP/40GP/40HQ",size:"20gpSell",time:a})).data}catch(o){return{message:o.message,status:"ERROR"}}},ds=async()=>{try{return(await T.get("/client/freight/sea/getspecialfreight")).data}catch(t){return{message:t.message,status:"ERROR"}}},ms=async t=>{try{return(await T.get(`/client/schedule/query?scid=${t?.scid}&code=${t.code}&start_port_id=${t.startPortId}&schedule=${t.schedule}`)).data}catch(n){return{message:n.message,status:"ERROR"}}},hs=async t=>{try{return(await T.get(`/client/freight/sea/getFuturePrice?startPortId=${t?.startPortId}&endPortId=${t?.endPortId}&transferPortId=${t?.transferPortId}&scid=${t?.scid}&routeId=${t?.routeId}&sailingDay=${t?.sailingDay}&firstSupply=${t?.firstSupply}`)).data}catch(n){return{message:n.message,status:"ERROR"}}},gs=({data:t})=>{const{t:n}=N(),a=H(),o=Q(W),c=async(d,p)=>{const i=new Date;i.setDate(i.getDate()+3);const u=await ce(d,p,i.toISOString().split("T")[0]);(u?.code===0||u?.dateResult)&&(o({data:u?.data||null,date:u?.date||u?.dateResult,surcharge:u?.surcharge,surchargeSpecial:u?.surchargeSpecial,carrier:u?.carrier}),a(`/freight/${encodeURIComponent(`${d}-${p}`)}`))};return e(r,{children:s(r,{className:"bg-white rounded-md",onClick:()=>c(t?.["startPort.nameEn"],t?.["endPort.nameEn"]),children:[s(r,{className:"flex p-4 items-center justify-between text-center border-b border-[#a6a6a930] pb-5",children:[s(r,{className:"flex-1",children:[e(m,{className:"text-sm font-semibold text-[#2b2b2b] mb-2 text-start",children:t?.["startPort.nameEn"]}),e(m,{className:"text-xs text-gray-500 text-start",children:t?.["startPort.name"]})]}),e("img",{src:"assets/icons/icon-boat.png"}),s(r,{className:"flex-1",children:[e(m,{className:"text-sm font-semibold text-[#2b2b2b] mb-2 text-end",children:t?.["endPort.nameEn"]}),e(m,{className:"text-xs text-gray-500 text-end",children:t?.["endPort.name"]})]})]}),s(r,{className:"flex justify-between items-center py-3 px-4 text-sm",children:[e(m,{className:"text-gray-500",children:s("span",{className:"text-[#2b2b2b]",children:[n("ETD"),": ",t?.sailing_day]})}),s(m,{className:"text-[#AD4500]",children:["$",t?.["20gpSell"],"/$",t?.["40gpSell"],"/$",t?.["40hqSell"]]})]})]})},t.id)},ps=()=>{const{t}=N(),[n,a]=f.useState([]),o=async()=>{const c=await ds();c.message==="success"?a(c.data):a([])};return f.useEffect(()=>{o()},[]),e(xe,{title:t("Recommend"),className:"px-6 pt-4 pb-6",style:{backgroundColor:"var(--zmp-background-color)"},children:s(r,{className:"grid grid-cols-1 gap-4 mt-4",children:[n?.length?n?.map(c=>e(gs,{data:c},c.id)):e(r,{className:"flex items-start mt-10 justify-center h-full",children:e("img",{src:"/assets/icons/icon-empty.png"})}),s(r,{className:"flex items-center justify-center text-sm text-gray-500",children:[e(r,{className:"flex-1 h-px bg-[#87767654] ms-5"}),e("span",{className:"px-4 text-center text-gray-500",children:t("Go to find more data")}),e(r,{className:"flex-1 h-px bg-[#87767654] me-5"})]})]})})},us=()=>{const{t}=N();return e(xe,{title:t("Recommend"),className:"px-6 pt-4 pb-6 h-full",style:{backgroundColor:"var(--zmp-background-color)"},children:e(r,{className:"flex items-start mt-10 justify-center h-full",children:e("img",{src:"/assets/icons/icon-empty.png"})})})},fs=()=>e(f.Suspense,{fallback:e(us,{}),children:e(ps,{})}),xs=()=>s(R,{className:"relative flex-1 flex flex-col bg-white",children:[e(Kn,{}),s(r,{className:"flex-1 overflow-auto custom-scrollbar",children:[e(f.Suspense,{children:e(os,{})}),e(fs,{})]})]}),Ns=()=>{const{t}=N(),[n,a]=f.useState(""),[o,c]=f.useState([]),d=p=>{c([...o,{role:"user",content:p}])};return s(r,{className:"flex flex-col justify-between h-full overflow-hidden bg-gray-50",style:{backgroundColor:"var(--zmp-background-color)"},children:[e(r,{className:"flex-1 overflow-y-auto p-4 my-5",children:o.map((p,i)=>e(r,{className:"flex",children:e(r,{className:"flex-1",children:p.content})},i))}),s(r,{className:"px-4 pb-2 flex flex-wrap gap-2",children:[e("span",{className:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-base cursor-pointer",children:t("Quote for Shanghai–Singapore?")}),e("span",{className:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-base cursor-pointer",children:t("ONE local fee Shanghai–Bangkok?")})]}),e(r,{className:"px-4 mb-2 gap-2",children:e(I,{className:"flex-1 bg-gray-100 rounded-full px-2 text-base",placeholder:t("Ask me anything"),onChange:p=>a(p.target.value),prefix:e(r,{pl:1,children:e(P,{icon:"zi-mic",className:"text-3xl text-gray-500"})}),suffix:s(r,{pr:1,className:"flex",children:[e(r,{onClick:d.bind(null,n),children:e(P,{icon:"zi-plus-circle",className:"text-3xl text-gray-500"})}),e(r,{onClick:d.bind(null,n),children:e(P,{icon:"zi-send-solid",className:"text-3xl text-gray-300"})})]})})})]})},ys=()=>{const{t}=N();return s(R,{className:"relative flex-1 flex flex-col",children:[e(D,{title:t("Support"),showBackIcon:!1}),e(Ns,{})]})};function Z({title:t,items:n,renderLeft:a,renderRight:o,onClick:c,isMore:d}){const{t:p}=N();return s(r,{className:"bg-background rounded-xl py-4",children:[s(r,{className:"flex items-center justify-between px-4",children:[t&&e(m.Title,{className:"text-xl",children:p(t)}),d&&s(m,{className:"text-[#767a7f] text-base py-2 px-0 h-fit w-fit",onClick:()=>{},children:[p("More"),e(P,{icon:"zi-chevron-right"})]})]}),e(r,{className:"grid grid-cols-4 px-6 gap-4 pt-2",children:n?.map((i,u)=>s("div",{onClick:()=>c?.(i),className:"flex flex-col flex-1 items-center",children:[a(i),e(m,{className:"text-center text-sm mt-1",children:o(i)})]},u))})]})}const bs=()=>{const{i18n:t}=N(),n=a=>{t.changeLanguage(a)};return s("div",{className:"flex gap-2",children:[e("button",{onClick:()=>n("vi"),children:"🇻🇳"}),e("button",{onClick:()=>n("en"),children:"🇺🇸"}),e("button",{onClick:()=>n("zh"),children:"🇨🇳"})]})},ws=()=>s(r,{className:"relative h-20",children:[e(r,{className:"absolute top-0 left-0 w-full h-20 z-0",style:{background:"linear-gradient(to bottom, #A8B4FF 0%, #E6ECFF 100%)"}}),e(r,{className:"absolute top-10 left-5 w-full",children:e(bs,{})})]}),Es=()=>{const{t}=N(),n=C({type:"success",text:"Chức năng dành cho các bên tích hợp phát triển..."});return e(r,{className:"m-6 mt-2",children:e(Z,{title:t("My Orders"),onClick:n,isMore:!0,items:[{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-tag.png",alt:"tag"}),title:"New Order"},{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-contact.png",alt:"contact"}),title:"Approved"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-list1.png",alt:"list1"}),title:"Booking"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-list2.png",alt:"list2"}),title:"Pre-shipment"}],renderLeft:a=>a.icon,renderRight:a=>t(a.title)})})},vs=()=>{const{t}=N(),n=H(),[a,o]=f.useState(!1),c=te(le);console.log("userAuth",c?.contents?.user?.isAdmin);const d=i=>{(i==="Manage"||i==="Join"||i==="Invite")&&(c?.contents?.user?.isAdmin?n("/profile/verify"):o(!0))},p=()=>{c?.contents?o(!1):n("/auth/login")};return s(r,{className:"m-6",children:[e(Z,{title:t("Enterprise Management"),onClick:i=>d(i?.title),items:[{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-seal.png",alt:"seal"}),title:"Verify"},{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-building.png",alt:"building"}),title:"Manage"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-hospital.png",alt:"hospital"}),title:"Join"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-group.png",alt:"group"}),title:"Invite"}],renderLeft:i=>i.icon,renderRight:i=>t(i.title)}),e(ne,{visible:a,onClose:()=>o(!1),description:t("Please log in first!"),modalClassName:"shadow-[0px_10px_24px_rgba(20,20,21,0.09)] z-50 opacity-100 modal-login",actions:[{text:e(k,{className:"bg-[#E0E3E5] text-[#2E2E2E] rounded-[6px] justify-center",variant:"secondary",onClick:()=>o(!1),children:t("Cancel")})},{text:e(k,{className:"bg-[#3EBB6C] text-white rounded-[6px] justify-center",variant:"secondary",onClick:p,children:t("Login")})}]})]})},Ss=()=>{const{t}=N(),n=C({type:"success",text:"Chức năng dành cho các bên tích hợp phát triển..."});return e(r,{className:"m-6",children:e(Z,{title:t("My Orders"),onClick:n,isMore:!0,items:[{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-card.png",alt:"card"}),title:"Amount"},{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-loading.png",alt:"loading"}),title:"Credit"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-list3.png",alt:"list3"}),title:"Unbilled"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-completed.png",alt:"completed"}),title:"Billed"}],renderLeft:a=>a.icon,renderRight:a=>t(a.title)})})},As=({userAuth:t})=>{const{t:n}=N(),a=Q(re),o=H(),[c,d]=f.useState(!1),p=i=>{i==="Logout"&&(t?(V.removeStorage({keys:["Authorization"]}),a(u=>u-1)):d(!0))};return s(r,{className:"m-6",children:[e(Z,{title:n("Other"),onClick:i=>p(i.title),items:[{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-news.png",alt:"news"}),title:"Template"},{icon:e("img",{className:"w-12 h-12",src:"/assets/icons/icon-wallet.png",alt:"wallet"}),title:"Collection"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-list4.png",alt:"list4"}),title:"Contract"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-setting.png",alt:"setting"}),title:"Register"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-message.png",alt:"message"}),title:"Wechat Push"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-write.png",alt:"write"}),title:"Change Password"},{icon:e("img",{className:"w-12 h-12",src:"assets/icons/icon-logout.png",alt:"logout"}),title:"Logout"}],renderLeft:i=>i.icon,renderRight:i=>n(i.title)}),e(ne,{visible:c,onClose:()=>d(!1),description:n("Please log in first!"),modalClassName:"shadow-[0px_10px_24px_rgba(20,20,21,0.09)] z-50 opacity-100 modal-login",actions:[{text:e(k,{className:"bg-[#E0E3E5] text-[#2E2E2E] rounded-[6px] justify-center",variant:"secondary",onClick:()=>d(!1),children:n("Cancel")})},{text:e(k,{className:"bg-[#3EBB6C] text-white rounded-[6px] justify-center",variant:"secondary",onClick:()=>o("/auth/login"),children:n("Login")})}]})]})},Cs=()=>{const{t}=N(),n=H(),a=te(le);return s(R,{className:"relative flex-1 flex flex-col overflow-hidden",style:{backgroundColor:"var(--zmp-background-color)"},children:[e(ws,{}),s(r,{className:"flex-1 overflow-y-auto custom-scrollbar",children:[e(r,{className:"h-20 bg-[#E6ECFF] shadow-md shadow-[#f4f5f6]",children:s(r,{className:"flex items-end justify-between border-t border-[#fff] px-6",children:[s(r,{className:"flex items-end space-x-2",children:[e(r,{className:"w-16 h-16 rounded-full bg-[#f4f5f6] flex items-center justify-center",children:e(P,{icon:"zi-user",className:"text-black text-4xl"})}),a?.contents?s(r,{className:"flex flex-col items-start",children:[e(m,{className:"text-black text-xl font-bold",children:a?.contents?.user?.username}),e(m,{className:"text-[#A9ADB2] text-[10px]",children:a?.contents?.user?.cName})]}):e(m,{onClick:()=>n("/auth"),className:"text-black text-xl font-bold drop-shadow-md leading-loose",children:t("Click to login")})]}),e(k,{onClick:()=>n("/profile/edit"),variant:"secondary",className:"text-[#0019FF] text-lg bg-white bg-opacity-30 py-2 px-0 h-fit w-fit",children:t("Profile")})]})}),e(Es,{}),e(vs,{}),e(Ss,{}),e(As,{userAuth:a?.contents})]})]})},ks=[{title:"上海",value:"SHANGHAI",label:"SHANGHAI"},{title:"深圳",value:"SHENZHEN",label:"SHENZHEN"},{title:"广州",value:"GUANGZHOU",label:"GUANGZHOU"},{title:"香港",value:"XIANGGANG",label:"XIANGGANG"},{title:"珠海",value:"ZHUHAI",label:"ZHUHAI"},{title:"大连",value:"DALIAN",label:"DALIAN"},{title:"宁波",value:"NINGBO",label:"NINGBO"},{title:"青岛",value:"QINGDAO",label:"QINGDAO"},{title:"天津",value:"TIANJIN",label:"TIANJIN"},{title:"厦门",value:"XIAMEN",label:"XIAMEN"},{title:"佛山",value:"FOSHAN",label:"FOSHAN"},{title:"顺德",value:"SHUNDE",label:"SHUNDE"},{title:"中山",value:"ZHONGSHAN",label:"ZHONGSHAN"},{title:"江门",value:"JIANGMEN",label:"JIANGMEN"},{title:"肇庆",value:"ZHAOQING",label:"ZHAOQING"},{title:"东莞",value:"DONGGUAN",label:"DONGGUAN"},{title:"HAI PHONG",value:"HAI PHONG",label:"HAI PHONG"}],Ne=({title:t,icon:n,onClick:a})=>s(r,{flex:!0,className:"space-x-2",onClick:a,children:[n&&e("img",{src:n,alt:"icon"}),e(r,{className:"flex-1 space-y-[2px]",children:e(m,{children:t})})]}),Is=({size:t=8,...n})=>e(r,{style:{minHeight:t,backgroundColor:"var(--zmp-background-color)"},...n}),_s=()=>e(r,{className:"bg-white",pb:4,children:e(Le,{modules:[Pe],pagination:{clickable:!0},autoplay:!0,loop:!0,cssMode:!0,children:[1,2,3].map((t,n)=>e(Oe,{className:"px-4 pt-4",children:e(r,{className:"w-full rounded-lg aspect-[2/1] bg-cover bg-center bg-skeleton",style:{backgroundImage:`url(https://www.dadaex.cn/assets/upload/wximg/banner${t}.png)`}})},n))})}),Ls=()=>{const{t}=N(),n=J(),a=M(ae),[o,c]=U(W),[d,p]=U(rs),i=Q(ue),u=C({type:"warning",text:t("Please select origin or destination")}),S=C({type:"error",text:t("Freight not found")}),x=f.useCallback(async()=>{if(!a||!d){u();return}const w={origin:d,destination:a,timestamp:new Date().toISOString()};i(_=>{const A=[w,..._.filter(B=>B.origin!==d||B.destination!==a)].slice(0,10);return localStorage.setItem("freightSearchHistory",JSON.stringify(A)),A});const y=new Date;y.setDate(y.getDate()+3);const v=await ce(d,a,y.toISOString().split("T")[0]);v?.code===0||v?.dateResult?(c({data:v?.data||v?.seaResult,date:v?.date||v?.dateResult,surcharge:v?.surcharge,surchargeSpecial:v?.surchargeSpecial,carrier:v?.carrier}),n(`/freight/${encodeURIComponent(`${d}-${a}`)}`)):S()},[a,d]);return s(r,{className:"px-10",children:[e(r,{className:"border-b border-[#a6a6a930]",children:s(r,{className:"flex items-center px-4",children:[s(m,{className:"w-1/3 font-bold",children:[t("Origin")," :"]}),s(r,{className:"flex items-center",children:[e(Re,{closeOnSelect:!0,className:"border-none ps-1 select-origin",defaultValue:"SHANGHAI",onChange:w=>p(w),children:ks?.map(w=>e("option",{title:w?.label,value:w?.value},w?.value))}),e(P,{icon:"zi-location-solid",className:"text-[#000] text-lg leading-none"})]})]})}),e(r,{className:"border-b border-[#a6a6a930] py-4",children:s(r,{className:"flex items-center px-4",children:[s(m,{className:"w-1/3 font-bold",children:[t("Destination")," :"]}),e(m,{className:"ps-0.5",onClick:()=>n("/freight/destination"),children:a||t("Please select a port")})]})}),e(r,{className:"py-4",children:e(k,{className:"w-full",onClick:x,children:t("Search")})})]})},Ps=()=>{const{t}=N(),n=J(),[a,o]=U(W),c=M(ue),d=C({type:"warning",text:t("Please select origin or destination")}),p=C({type:"error",text:t("Freight not found")}),i=f.useCallback(me.debounce(async u=>{const[S,x]=u.split("-");if(!S||!x){d();return}const w=new Date;w.setDate(w.getDate()+3);const y=await ce(S,x,w.toISOString().split("T")[0]);y?.code===0||y?.dateResult?(o({data:y?.data||null,date:y?.date||y?.dateResult,surcharge:y?.surcharge,surchargeSpecial:y?.surchargeSpecial,carrier:y?.carrier}),n(`/freight/${encodeURIComponent(u)}`)):p()},100),[]);return s(r,{children:[e(r,{className:"flex items-center px-4 mb-3",children:e(m,{className:"w-1/3",children:t("History")})}),e(r,{className:"flex flex-col gap-4 px-4",children:c?.map(u=>s("div",{children:[e(Ne,{title:`${u.origin}----${u.destination}`,icon:"assets/icons/icon-boat2.png",onClick:()=>i(`${u.origin}-${u.destination}`)}),e(Is,{size:1})]},`${u.origin}----${u.destination}`))})]})},Os=()=>{const{t}=N();return s(R,{className:"flex flex-col overflow-x-hidden custom-scrollbar",children:[e(D,{title:t("Freight")}),e(_s,{}),s(r,{className:"flex flex-col bg-white rounded-lg h-full",children:[e(Ls,{}),e(Ps,{})]})]})},Rs=()=>{const{t}=N(),n=M(pe),[a,o]=U(ae),c=H(),d=p=>{o(p),c("/freight")};return e(r,{className:"flex flex-col px-4",children:n?.map(p=>s(r,{className:"mb-4",children:[e(m,{className:"mb-2",children:t(p?.routeEng)}),e(r,{className:"grid grid-cols-4 gap-2 gap-y-4",children:p?.des?.map(i=>s(r,{onClick:()=>d(i?.nameEng),className:"flex gap-1 flex-col bg-white rounded-lg py-2 px-1 justify-center items-center",children:[e(m,{className:"text-center",children:i?.name?.length<5?i?.name:i?.name?.slice(0,4)+"..."}),e(m,{className:"text-center",children:i?.nameEng?.length<9?i?.nameEng:i?.nameEng?.slice(0,7)+"..."})]},i?.id))})]},p?.id))})},Ts=()=>{const t=M(as),[n,a]=U(ae),[o,c]=U(se),d=H(),p=i=>{a(i),d("/freight"),c("")};return e(r,{className:"bg-white rounded-lg px-6",children:t?.map(i=>!!i?.des?.length&&e(r,{children:i?.des?.map(u=>e(r,{className:"py-4 border-b border-[#f4f5f6]",children:e(Ne,{title:`${u?.nameEng} (${u?.name}) - ${i?.route}`,onClick:()=>p(u?.nameEng)})},u?.id))},i?.id))})},$s=()=>{const{t}=N();return e(r,{className:"flex justify-center items-center",children:e(m,{children:t("Searching...")})})},Bs=()=>{const{t}=N(),[n,a]=U(se),o=f.useCallback(me.debounce(c=>{a(c)},100),[]);return s(R,{className:"flex flex-col overflow-x-hidden custom-scrollbar",children:[e(D,{title:t("Destination Search")}),s(r,{className:"flex flex-col h-full",children:[e(r,{className:"p-4 transition-all ease-out flex-none",children:e(I.Search,{ref:c=>{c?.input?.value||c?.focus()},clearable:!0,defaultValue:n,onChange:c=>o(c?.target?.value),className:"rounded-full",placeholder:t("Chinese/English/Initial")})}),n?.length>0?e(f.Suspense,{fallback:e($s,{}),children:e(Ts,{})}):e(Rs,{})]})]})},Hs=({tabsData:t})=>{const n=Q(fe),[a,o]=f.useState(0),[c,d]=f.useState(!1),[p,i]=f.useState(!1),[u,S]=f.useState(!1),[x,w]=f.useState(new Date),[y,v]=f.useState([]),[_,$]=f.useState(""),[A,B]=f.useState([]),l=H(),{t:g}=N(),b=(h,E,z)=>s(r,{className:"text-center h-full",children:[e(m,{className:"font-bold",children:h}),e(m,{className:"font-bold",children:g(E)}),z&&s(m,{className:"font-bold",children:["$",z]})]}),G=h=>{console.log("date",h),w(h)},j=h=>{y?.find(E=>E===h)?v(y.filter(E=>E!==h)):v([...y,h])},Y=h=>{A?.find(E=>E===h)?B(A.filter(E=>E!==h)):B([...A,h])},be=h=>{n(h),l("/freight/detail")};return s(r,{className:"relative flex flex-col flex-1 overflow-hidden",children:[s("div",{className:"sticky top-0 z-10 flex items-center px-4 bg-white",children:[e("div",{className:"flex space-x-1 overflow-x-auto custom-scrollbar mr-3",children:!!t?.date?.length&&t?.date?.map((h,E)=>e("button",{onClick:()=>o(h?.time),className:`min-w-[60px] px-1 py-1 text-sm ${a===h?.time||a===E?"text-red-600":"text-#000"}`,children:b(h?.time,h?.week,h?.["20gp"]?.price)},E))}),s("div",{onClick:()=>S(!0),className:"flex py-1 gap-1 flex-col items-center justify-center w-60 cursor-pointer border-s ps-2 border-[#A9ADB2]",children:[e("img",{src:"/assets/icons/icon-calendar.png",alt:"calendar",className:"w-5 h-5"}),e("span",{className:"text-sm text-gray-700",children:g("Calendar")}),e("img",{src:"/assets/icons/icon-rl3.png",alt:"rl3",className:"w-3 h-2"})]})]}),e("div",{className:`flex-1 overflow-y-auto custom-scrollbar px-6 mt-2 mb-14 ${u?"opacity-50":""}`,children:t&&!!t?.data?.length&&(_==="fastest"?[...t?.data].sort((h,E)=>h?.voyage-E?.voyage):t?.data)?.map((h,E)=>(console.log("tab",h),e("div",{children:(y?.find(z=>z===h?.carrier)||!y?.length)&&s("div",{className:"bg-white px-4 py-2 my-3 rounded-md",onClick:()=>be(E),children:[s("div",{className:"grid grid-cols-12 justify-end items-center my-2",children:[e("div",{className:"col-span-2",children:e("div",{className:"shipLogo",children:e("img",{className:"w-[86px] h-[70px] object-contain",src:`https://www.dadaex.cn/assets/upload/carrierlogo/${h?.carrier}.png`,alt:"carrier"})})}),e("div",{className:"col-span-10",children:s("div",{className:"grid grid-cols-12 justify-end items-center",children:[e("div",{className:`${c?"col-span-3":"col-span-4"}`,children:e("div",{className:"text-end",children:parseInt(typeof h?.sell_20gp=="string"?h?.sell_20gp?.split(".")[0]:h?.sell_20gp,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof h?.sell_20gp=="string"?h?.sell_20gp?.split(".")[0]:h?.sell_20gp,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})})}),e("div",{className:`${c?"col-span-3":"col-span-4"}`,children:e("div",{className:"text-end",children:parseInt(typeof h?.sell_40gp=="string"?h?.sell_40gp?.split(".")[0]:h?.sell_40gp,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof h?.sell_40gp=="string"?h?.sell_40gp?.split(".")[0]:h?.sell_40gp,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})})}),e("div",{className:`${c?"col-span-3":"col-span-4"}`,children:e("div",{className:"text-end",children:parseInt(typeof h?.sell_40hq=="string"?h?.sell_40hq?.split(".")[0]:h?.sell_40hq,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof h?.sell_40hq=="string"?h?.sell_40hq?.split(".")[0]:h?.sell_40hq,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})})}),c&&e("div",{className:"col-span-3 text-end",onClick:()=>Y(h?.id),children:e("img",{src:A?.find(z=>z===h?.id)?"/assets/icons/icon-checked.png":"/assets/icons/icon-check.png",alt:"check",className:"w-5 h-5 inline-block"})})]})})]}),s("div",{className:"grid grid-cols-12 gap-y-1 justify-end items-center",children:[e("div",{className:`${c?"col-span-6":"col-span-8"}`,children:e("div",{className:"text-truncate",children:e("span",{children:h?.anchport?`${g("Origin Terminal")}: ${h?.anchport}`:`${g("Origin Port")}: ${h?.start_port}`})})}),e("div",{className:"col-span-4",children:e("div",{className:"text-end",children:s("span",{children:[g("Route"),": ",h?.route_code]})})}),e("div",{className:`${c?"col-span-6":"col-span-8"}`,children:e("div",{className:"ortherLeft pt-2 text-truncate",children:e("span",{children:`${h?.end_area?g("Destination Terminal"):g("Destination Port")}: ${h?.end_area?h?.end_area:h?.end_port}`})})}),e("div",{className:"col-span-4",children:e("div",{className:"text-end",children:s("span",{className:"text-[#ca4234] bg-[#FFDBDB] px-1 py-0.5 rounded-t",children:[h?.voyage," ",g("days")]})})})]})]},E)},E)))}),s("div",{className:"flex rounded-xl bg-[#000] text-[#E0E3E5] opacity-70 mx-6 h-14 fixed bottom-4 left-0 right-0 z-50",children:[s("div",{className:"flex-1 flex justify-center items-center border-r border-white gap-2 my-3",onClick:()=>i(!0),children:[e("img",{src:"/assets/icons/icon-filter.png",alt:"filter",className:"w-5 h-5 mb-1"}),e("span",{children:g("Filter")})]}),c?s("div",{className:"flex-1 flex justify-center items-center gap-2 my-3",onClick:()=>d(!1),children:[e("img",{src:"/assets/icons/icon-export.png",alt:"cancel-export",className:"w-5 h-5 mb-1 opacity-70"}),e("span",{children:g("Cancel Export")})]}):s("div",{className:"flex-1 flex justify-center items-center gap-2 my-3",onClick:()=>d(!0),children:[e("img",{src:"/assets/icons/icon-export.png",alt:"export",className:"w-5 h-5 mb-1"}),e("span",{children:g("Export")})]})]}),e(Te,{visible:p,children:s(r,{className:"px-6 pt-4",children:[s("div",{class:"mb-6",children:[s("div",{class:"flex justify-between items-center mb-2",children:[e("span",{class:"text-2xl font-bold",children:g("Conditions")}),e("button",{onClick:()=>$(""),class:"text-[#002B6B] text-xl",children:g("Clear")})]}),s("div",{id:"condition",class:"flex gap-4",children:[e("button",{onClick:()=>$("fastest"),class:`text-xl px-8 py-4 rounded-md text-[#180C31] ${_==="fastest"?"bg-[#00378A] text-white":"bg-[#EBEDEF]"}`,children:g("Fastest")}),e("button",{onClick:()=>$("direct"),class:`text-xl px-8 py-4 rounded-md text-[#180C31] ${_==="direct"?"bg-[#00378A] text-white":"bg-[#EBEDEF]"}`,children:g("Direct")})]})]}),s("div",{class:"mb-10",children:[s("div",{class:"flex justify-between items-center mb-2",children:[e("span",{class:"font-bold text-2xl",children:g("Carrier")}),e("button",{onClick:()=>v([]),class:"text-[#002B6B] text-xl",children:g("Clear")})]}),e("div",{id:"company",class:"grid grid-cols-3 gap-y-5 gap-x-3",children:t?.carrier?.map(h=>e("button",{onClick:()=>j(h),class:`text-xl px-2 py-4 rounded-md text-[#180C31] ${y?.find(E=>E===h)?"bg-[#00378A] text-white":"bg-[#EBEDEF]"}`,children:h},h))})]}),s("div",{class:"flex justify-between mb-6",children:[e("button",{onClick:()=>i(!1),class:"w-1/2 mr-2 py-3 rounded-3xl bg-[#DBEBFF] text-[#180C31] text-xl",children:g("Reset")}),e("button",{onClick:()=>i(!1),class:"w-1/2 ml-2 py-3 rounded-3xl bg-[#00378A] text-white text-xl",children:g("Confirm")})]})]})}),u&&s(r,{className:"fixed bottom-0 left-0 right-0 z-50 bg-white py-5 px-2 text-xl rounded-t-2xl",children:[e($e,{locale:g("en"),className:"",headerRender:h=>s(r,{className:"relative",children:[e(m,{className:"text-2xl flex-1 text-center",children:g("Select Date")}),e(r,{onClick:()=>S(!1),className:"absolute right-4 top-1",children:e(P,{icon:"zi-close",className:"w-5 h-5"})}),e(m,{className:"text-xl font-bold text-center py-2",children:h})]}),onSelect:G,value:x,disabledDate:h=>h<new Date(new Date().setDate(new Date().getDate()+2))}),s(r,{className:"flex flex-col justify-between mt-6",children:[e(m,{className:"text-xl text-center py-2",children:x?.toLocaleDateString()?.split("/")?.join("-")}),e(k,{className:"text-2xl py-2 w-full",children:g("Confirm")})]})]})]})},Ds=()=>{const t=M(W);return e(Hs,{tabsData:t})},Ms=()=>{const{t}=N(),{route:n}=Be();return s(R,{className:"flex flex-col relative",children:[e(D,{title:t(n||"")}),e(Ds,{})]})},Fs=({price_20:t=1,price_40:n=0,price_40hq:a=0,addNum:o,reduceNum:c})=>{const[d,p]=f.useState(!1);return s("div",{className:"bg-[#fff]",children:[s("div",{className:"mb-4 flex items-center justify-between",children:[s("div",{className:"text-[#303761] text-xl flex items-center",children:[e("span",{className:"inline-block w-[45px] h-full text-center rounded-[16px] bg-[#4859c01a]",children:t}),e("span",{style:{margin:"0 5px"},children:"20GP"}),e("span",{className:"inline-block w-[45px] h-full text-center rounded-[16px] bg-[#4859c01a]",children:n}),e("span",{style:{margin:"0 5px"},children:"40GP"}),e("span",{className:"inline-block w-[45px] h-full text-center rounded-[16px] bg-[#4859c01a]",children:a}),e("span",{style:{marginLeft:"5px"},children:"40HQ"})]}),e("div",{onClick:()=>p(!d),children:e(P,{icon:d?"zi-chevron-up":"zi-chevron-down"})})]}),d&&e("div",{children:[{label:"20GP",key:"20gp",value:t},{label:"40GP",key:"40gp",value:n},{label:"40HQ",key:"40hq",value:a}].map(i=>s("div",{className:"flex items-center mb-4 text-base",children:[s("div",{className:"inline-flex p-1 flex-1 items-center bg-[#4859c01a] rounded-[16px]",children:[e("button",{onClick:()=>c(i.key),disabled:i.value<=0,children:e("img",{src:i.value>0?"/assets/icons/icon-minus.png":"/assets/icons/icon-minus-dis.png",alt:"reduce"})}),e("input",{value:i.value,type:"number",readOnly:!0,className:"h-full w-full text-center inline-block text-base bg-transparent"}),e("button",{onClick:()=>o(i.key),children:e("img",{src:"/assets/icons/icon-add.png",alt:"add"})})]}),e("div",{className:"w-[50px] font-bold text-right",children:e("span",{className:"collapse_font",children:i.label})})]},i.key))})]})},oe=(t=3)=>{const n=new Date;return n.setDate(n.getDate()+t),n.toISOString().split("T")[0]},Gs=(t,n)=>{const a=t.split("-");if(a.length!==3)return"Invalid date";const o=`${a[1]}-${a[2]}-${a[0]}`,c=new Date(o);if(isNaN(c.getTime()))return"Invalid date";const d=c.getTime()+n*24*60*60*1e3,p=new Date(d),i=p.getFullYear(),u=String(p.getMonth()+1).padStart(2,"0"),S=String(p.getDate()).padStart(2,"0");return`${i}-${u}-${S}`},js=({freightDetail:t})=>{const{t:n}=N();return s(r,{className:"flex flex-col px-6 pb-6 mt-6 bg-white",children:[s(r,{className:"flex justify-between my-2",children:[s(m,{className:"text-xs",children:[n("Sailing Date"),": ",t?.sailing_date]}),s(m,{className:"text-xs",children:[n("Route"),": ",t?.route_code]}),e(m,{className:"text-xs",children:t?.overTime?n("Deadline")+": "+t?.overTime:n("Effective Date")+": "+t?.startTime})]}),s(r,{className:"flex justify-center items-center gap-6",children:[e(m,{className:"h-full pt-[42px] text-base",children:t?.start_port}),s(r,{className:"flex flex-col items-center gap-1",children:[e("img",{className:"w-[50px] object-contain",src:`https://www.dadaex.cn/assets/upload/carrierlogo/${t?.carrier}.png`,alt:"carrier"}),e("img",{className:"w-[114px] object-contain",src:"/assets/icons/line.png",alt:"line"}),s(m,{className:"text-[#9d9d9da3]",children:[t?.voyage,"天",t?.transport==t?.end_port||!t?.end_port?"直达":t?.transport]})]}),e(m,{className:"h-full pt-[42px] text-base",children:t?.end_port})]})]})},Us=({freightDetail:t})=>{const{t:n}=N(),[a,o]=f.useState("costList"),[c,d]=f.useState([]),[p,i]=f.useState({}),[u,S]=f.useState(0),[x,w]=f.useState({"20gp":1,"40gp":0,"40hq":0}),[y,v]=f.useState(t?.surcharge?.reduce((l,g)=>l+(g?.price_unit?g?.price_unit:(g?.price_20||0)*x?.["20gp"]+(g?.price_40||0)*x?.["40gp"]+(g?.price_40hq||0)*x?.["40hq"]),0)),_=async l=>{if(l==="costList")o(l);else if(l==="schedule"){const g=await ms({scid:t?.carrier_id,code:t?.route_code,startPortId:t?.start_port_id,schedule:t?.schedule});d(g?.contact?.map(b=>({...b,etd:b?.etd?b?.etd:b?.tetd,endTime:Gs(b?.etd?b?.etd:b?.tetd,t?.voyage)}))),o(l)}else if(l==="moreQuotes"){const g=await hs({startPortId:t?.start_port_id,endPortId:t?.end_port_id,transferPortId:t?.entrepot_id,scid:t?.carrier_id,routeId:t?.routeId,sailingDay:t?.sailing_date,firstSupply:t?.supplier}),b={};g?.groups?.forEach((G,j)=>{const Y=`Week ${j+1}`;b[Y]=G}),i({tab:{...b,...g?.scheduleGroups}}),o(l)}},$=l=>{S(l)};f.useEffect(()=>{v(t?.surcharge?.reduce((l,g)=>l+(g?.price_unit?g?.price_unit:(g?.price_20||0)*x?.["20gp"]+(g?.price_40||0)*x?.["40gp"]+(g?.price_40hq||0)*x?.["40hq"]),0))},[x]);const A=l=>{w({...x,[l]:x[l]+1})},B=l=>{w({...x,[l]:x[l]-1})};return s(r,{className:"flex flex-col px-6 mt-6 bg-white pb-28",children:[s(r,{className:"w-full flex justify-between mt-6",children:[e("div",{onClick:async()=>await _("costList"),className:`rounded-[8px] flex-1 flex justify-center items-center px-2 py-4 h-12 text-base ${a==="costList"?"bg-[#4859C0] text-[#fff]":"text-[#19214F]"}`,children:n("Surcharge")}),e("div",{onClick:async()=>await _("schedule"),className:`rounded-[8px] flex-1 flex justify-center items-center px-2 py-4 h-12 text-base ${a==="schedule"?"bg-[#4859C0] text-[#fff]":"text-[#19214F]"}`,children:n("Schedule")}),e("div",{onClick:async()=>await _("moreQuotes"),className:`rounded-[8px] flex-1 flex justify-center items-center px-2 py-4 h-12 text-base ${a==="moreQuotes"?"bg-[#4859C0] text-[#fff]":"text-[#19214F]"}`,children:n("More Quotes")})]}),a==="costList"&&s(r,{className:"mt-6",children:[e(Fs,{price_20:x?.["20gp"],price_40:x?.["40gp"],price_40hq:x?.["40hq"],addNum:A,reduceNum:B}),s(r,{className:"mt-6 text-base flex items-center justify-between bg-[#4859c01a] rounded-[8px] p-4",children:[e(m,{className:"text-[#19214F]",children:n("Surcharge")}),s(m,{className:"text-[#8b261c]",children:["$",parseInt(typeof t?.sell_20gp=="string"?t?.sell_20gp?.split(".")[0]:t?.sell_20gp,10)*x?.["20gp"]+parseInt(typeof t?.sell_40gp=="string"?t?.sell_40gp?.split(".")[0]:t?.sell_40gp,10)*x?.["40gp"]+parseInt(typeof t?.sell_40hq=="string"?t?.sell_40hq?.split(".")[0]:t?.sell_40hq,10)*x?.["40hq"]]}),s(m,{className:"text-[#8b261c]",children:["￥",y]})]}),s(r,{className:"mt-6 text-base flex items-start py-2 flex-col border-b border-[#E0E3E5] gap-2",children:[e(m,{className:"text-[#19214fcc]",children:"海运费(OceanFreight)"}),s(r,{className:"flex px-1 items-center justify-between w-full",children:[s(m,{className:"text-[#19214f99]",children:[parseInt(typeof t?.sell_20gp=="string"?t?.sell_20gp?.split(".")[0]:t?.sell_20gp,10),"/",parseInt(typeof t?.sell_40gp=="string"?t?.sell_40gp?.split(".")[0]:t?.sell_40gp,10),"/",parseInt(typeof t?.sell_40hq=="string"?t?.sell_40hq?.split(".")[0]:t?.sell_40hq,10)]}),s(m,{className:"text-[#19214fcc]",children:["USD:"," ",parseInt(typeof t?.sell_20gp=="string"?t?.sell_20gp?.split(".")[0]:t?.sell_20gp,10)*x?.["20gp"]+parseInt(typeof t?.sell_40gp=="string"?t?.sell_40gp?.split(".")[0]:t?.sell_40gp,10)*x?.["40gp"]+parseInt(typeof t?.sell_40hq=="string"?t?.sell_40hq?.split(".")[0]:t?.sell_40hq,10)*x?.["40hq"]]})]})]}),t?.surcharge?.map(l=>s(r,{className:"mt-6 text-base flex items-start py-2 flex-col border-b border-[#E0E3E5] gap-2",children:[s(m,{className:"text-[#19214fcc]",children:[l.SurchargeName,l.SurchargeNameEn?"("+l.SurchargeNameEn+")":""]}),l?.price_20||l?.price_40||l?.price_40hq||l?.price_unit?s(r,{className:"flex px-1 items-center justify-between w-full",children:[l?.price_unit?e(m,{className:"text-[#19214f99]",children:l?.price_unit||0}):s(m,{className:"text-[#19214f99]",children:[l?.price_20?l?.price_20:0,"/",l?.price_40?l?.price_40:0,"/",l?.price_40hq?l?.price_40hq:0]}),s(m,{className:"text-[#19214fcc]",children:[l?.CurrencyName,":",l?.price_unit?l?.price_unit:(l?.price_20||0)*x?.["20gp"]+(l?.price_40||0)*x?.["40gp"]+(l?.price_40hq||0)*x?.["40hq"]]})]}):s(r,{className:"flex px-1 items-center justify-between w-full",children:[e(m,{className:`${l?.remark?.includes("不")?"text-[#F56C6C]":"text-[#67C23A]"} font-bold`,children:l?.remark?.includes("不")?"✗":"✓"}),s(m,{className:"text-[#19214fcc]",children:[l?.CurrencyName,":",l?.price_unit?l?.price_unit:(l?.price_20||0)*1+(l?.price_40||0)*0+(l?.price_40hq||0)*0]})]})]},l?.id)),s(r,{className:"mt-6 text-base flex items-start py-2 pb-8 flex-col border-b border-[#E0E3E5] gap-2",children:[s(m,{className:"text-[#ca4234] text-base",children:[n("Remark"),":"]}),s(m,{className:"text-[#19214f99] text-base",children:[t?.remark_en,e("br",{}),t?.remark_op]})]})]}),a==="schedule"&&s("div",{className:"my-6",children:[e("div",{className:"bg-[#e6e9ff] rounded-[16px] py-6",children:s("div",{className:"px-4 flex justify-between text-base text-[#19214f]",children:[e("div",{className:"flex-[4]",children:n("Vessel")}),e("div",{className:"flex-[2]",children:n("Voyage")}),e("div",{className:"flex-[6.1]",children:n("ETD & ETA")})]})}),c?.map((l,g)=>e("div",{className:"py-4 border-b border-[#eee]",children:s("div",{className:"flex justify-between text-sm text-[#19214fcc] gap-2 w-full",children:[e("div",{className:"flex-[4]",children:l?.shipName}),e("div",{className:"flex-[1]",children:l?.voyage}),s("div",{className:"flex-[6]",children:[l?.etd,"~",l?.endTime]})]})},g))]}),a==="moreQuotes"&&s("div",{className:"my-6",children:[e("div",{className:"flex space-x-1 overflow-x-auto custom-scrollbar mr-3 overflow-hidden",children:Object.keys(p?.tab).map((l,g)=>e("div",{onClick:()=>$(g),className:`min-w-[80px] text-center px-2 pt-1 pb-4 text-base ${u===g?"text-[#006af5fa] border-b-2 border-[#006af5fa]":"text-[#000]"}`,children:e(m,{className:"text-base font-bold",children:n(l)})},g))}),p&&p?.tab&&p?.tab?.[Object?.keys(p?.tab)?.[u]]?.map((l,g)=>s(r,{className:"relative mt-6 text-base flex items-start py-2 px-4 flex-col gap-2 shadow-[0_8px_16px_rgba(50,50,50,0.2)] rounded-[16px]",children:[s(r,{className:"flex items-center my-2 justify-around w-full",children:[e(r,{className:"flex items-center gap-2 text-[#303761] text-xl",children:parseInt(typeof l?.sell_20gp=="string"?l?.sell_20gp?.split(".")[0]:l?.sell_20gp,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof l?.sell_20gp=="string"?l?.sell_20gp?.split(".")[0]:l?.sell_20gp,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})}),e(r,{className:"flex items-center gap-2 text-[#303761] text-xl",children:parseInt(typeof l?.sell_40gp=="string"?l?.sell_40gp?.split(".")[0]:l?.sell_40gp,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof l?.sell_40gp=="string"?l?.sell_40gp?.split(".")[0]:l?.sell_40gp,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})}),e(r,{className:"flex items-center gap-2 text-[#303761] text-xl",children:parseInt(typeof l?.sell_40hq=="string"?l?.sell_40hq?.split(".")[0]:l?.sell_40hq,10)<8e4?s("div",{className:"text-end",children:["$",parseInt(typeof l?.sell_40hq=="string"?l?.sell_40hq?.split(".")[0]:l?.sell_40hq,10)]}):e("span",{className:"text-end",children:e("img",{src:"http://www.dadaex.cn/assets/upload/wximg/ting.png",alt:"pause",style:{width:"35px",height:"35px"},className:"inline-block"})})})]}),s(r,{className:"flex items-center justify-between w-full text-[#30376199]",children:[e(m,{children:l?.anchport?"起运港码头:"+l?.anchport:"起运港:"+l?.start_port}),e(m,{children:l?.end_area?"目的港码头:"+l?.end_area:"目的港:"+l?.end_port})]}),s(r,{className:"flex items-center justify-between w-full text-[#30376199]",children:[s(m,{children:["中转港:",l?.transport?l?.transport:l?.end_port]}),s(m,{children:["开航日: ",l?.sailing_date]})]}),s(r,{className:"flex items-center justify-between w-full text-[#30376199]",children:[e(m,{children:l?.overTime?"截止日期: "+l?.overTime:"生效日期: "+l?.startTime}),s(m,{children:["航线: ",l?.route_code?l?.route_code:"-"]})]}),s(r,{className:"flex items-center justify-between w-full text-[#30376199]",children:[s(m,{children:["航程: ",l?.voyage?l?.voyage:"-","天"]}),s(m,{children:["船期: ",l?.schedule?l?.schedule:"-"]})]}),e(r,{className:"flex items-center justify-between w-full text-[#30376199]",children:s(m,{children:["备注:",l?.remark?l?.remark:l?.remark_op?l?.remark_op:"-"]})}),l?.cheapestPrice&&e(m,{className:"absolute left-2 top-2 -translate-x-[40%] -rotate-45 h-8 leading-8 px-10 text-[12px] font-semibold text-white bg-[#ca4234] rounded-[2px] shadow-[0_4px_10px_rgba(0,0,0,0.15)]",children:n("cheap")})]},g))]})]})},zs=()=>{const{t}=N(),n=M(fe),a=M(W);return s(R,{className:"flex flex-col overflow-x-hidden custom-scrollbar",children:[e(D,{title:t("Freight Details")}),e(js,{freightDetail:{...a?.data?.[n||0],surcharge:a?.surcharge?.[a?.data?.[n||0]?.carrier],surchargeSpecial:a?.surchargeSpecial?.[a?.data?.[n||0]?.carrier]}}),e(Us,{freightDetail:{...a?.data?.[n||0],surcharge:a?.surcharge?.[a?.data?.[n||0]?.carrier],surchargeSpecial:a?.surchargeSpecial?.[a?.data?.[n||0]?.carrier]}}),s("div",{className:"flex rounded-xl bg-[#000] text-[#E0E3E5] opacity-70 mx-6 h-14 fixed bottom-4 left-0 right-0 z-50",children:[e("div",{className:"flex-1 flex justify-center items-center border-r border-white gap-2 my-3",children:e("span",{children:t("Add Charges")})}),e("div",{className:"flex-1 flex justify-center items-center border-r border-white gap-2 my-3",children:e("span",{children:t("Book")})}),e("div",{className:"flex-1 flex justify-center items-center gap-2 my-3",children:e("span",{children:t("Get Quote")})})]})]})},Vs=()=>{const{t}=N();return s(R,{className:"flex flex-col overflow-x-hidden custom-scrollbar",children:[e(D,{title:t("Check Freight")}),s(r,{className:"flex flex-col bg-white mt-4 rounded-lg mx-4",children:[e("div",{className:"mx-4 border-b border-[#E1E2E9] py-4",children:s("div",{className:"flex",children:[s("div",{className:"tit w-24 shrink-0 text-gray-500",children:[t("From"),":"]}),s("div",{className:"grow",children:[e("div",{className:"font-medium text-[#19214F] opacity-40",children:"V6V 1K9"}),e("div",{className:"mt-1 text-sm leading-snug text-[#19214F] opacity-40",children:"14551 Burrows Road Richmond BritishColumbia"})]})]})}),e("div",{className:"mx-4 border-b border-[#E1E2E9] py-4",children:s("div",{className:"flex",children:[s("div",{className:"tit w-24 shrink-0 text-gray-500",children:[t("To"),":"]}),e("div",{className:"tit w-24 shrink-0 text-gray-500",children:t("Please enter")}),s("div",{className:"grow",children:[e("div",{className:"cont font-medium text-gray-900",children:"V6V 1K9"}),e("div",{className:"cont1 mt-1 text-sm leading-snug text-gray-400",children:"14551 Burrows Road Richmond BritishColumbia"})]})]})}),e("div",{className:"mx-4 py-4",children:s("div",{className:"flex",children:[e("div",{className:"tit w-24 shrink-0 text-gray-500",children:"寄件地:"}),e("div",{className:"grow",children:e("div",{className:"cont font-medium text-gray-900",children:"包裹重量，体积，件数等"})})]})})]}),e(k,{className:"mt-8 mx-4 rounded-lg text-white",children:e(m,{children:"下一步"})})]})},Qs=()=>{const{t}=N(),[n,a]=f.useState("Modify"),o=te(ls),[c,d]=f.useState({username:o?.contents?.username,company:o?.contents?.company,address:o?.contents?.address,wechat:o?.contents?.wechat,phone:o?.contents?.phone,qq:o?.contents?.qq,email:o?.contents?.email}),p=()=>{a(n==="Modify"?"Submit":"Modify")},i=u=>{const{name:S,value:x}=u.target;d({...c,[S]:x})};return s(R,{className:"flex flex-col relative",style:{backgroundColor:"var(--zmp-background-color)"},children:[e(D,{title:t("Edit Profile")}),e(r,{className:"flex-1 overflow-y-auto custom-scrollbar",children:s(r,{className:"flex items-center justify-between py-10 px-6 flex-col gap-4",children:[e(I,{value:c?.username,disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:"请输入",label:t("Username"),name:"username",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:t("Please enter"),label:t("Company"),name:"company",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:t("Please enter"),label:t("Address"),name:"address",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:t("Please enter"),label:t("Wechat"),name:"wechat",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:"请输入",label:t("Phone"),value:c?.phone,name:"phone",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:"请输入",label:t("QQ"),value:c?.qq,name:"qq",onChange:i}),e(I,{disabled:n==="Modify",clearable:!0,required:!0,className:"w-full text-xl flex-1 custom-input border-b-[3px] border-[#D3D6DA]",placeholder:"请输入",label:t("Email"),value:c?.email,name:"email",onChange:i}),e(k,{className:"w-full mt-10",onClick:p,children:t(n)})]})})]})},ye=()=>{const{t}=N();return s(r,{className:"mt-16 mx-auto flex flex-col items-center justify-center",children:[e("img",{className:"w-[138px] h-[163px]",src:"https://www.dadaex.cn/api/static/upload/wximg/logo.png"}),e(m,{className:"mt-1.5 text-[#19214F] text-2xl",children:t("Welcome to FanYuan!")})]})},Ws=()=>{const{t}=N(),n=H(),[a,o]=f.useState(!1),[c,d]=f.useState(!1),p=C({text:t("Please accept the privacy policy first")}),i=u=>{if(!a){p();return}u===0?d(!0):n("/auth/login")};return s(R,{className:"relative flex-1 flex flex-col overflow-hidden",style:{backgroundColor:"var(--zmp-background-color)"},children:[e(D,{title:t("Authorize Login")}),s(r,{className:"flex flex-col items-center justify-center mx-6",children:[e(ye,{}),s(r,{className:"mt-24 flex flex-col items-center justify-center gap-4",children:[e(r,{className:"",children:e(He,{value:"",onChange:()=>o(!a),children:s(m,{className:"text-base",children:[t("I have read and agree to the")," ",e("a",{className:"text-[#4859C0]",href:"#",children:t("Terms ")}),e("p",{className:"inline-block",children:t("&")}),e("a",{className:"text-[#4859C0]",href:"#",children:t(" Privacy Policy.")})]})})}),e(k,{className:"w-full",onClick:()=>i(0),children:t("Authorized Login")}),e(k,{className:"w-full bg-[#C7E0FF]",variant:"tertiary",onClick:()=>i(1),children:t("Phone Number Login")})]})]}),e(ne,{actions:[{text:e(k,{className:"bg-[#3EBB6C] text-white rounded-[6px] justify-center",variant:"secondary",onClick:()=>d(!1),children:t("Confirm")})}],description:t("Phone number verification is required, please complete the operation on your phone."),visible:c,modalClassName:"shadow-[0px_10px_24px_rgba(20,20,21,0.09)] z-50 opacity-100 modal-login"})]})};function de(t){try{if(!t)return!1;const n=t.replace(/[^+\d]/g,""),a=/^(0[2-9]\d{8}|(\+84)[2-9]\d{8})$/,o=/^\+\d{9,15}$/;return a.test(n)||o.test(n)}catch{return!1}}const Ks=()=>{const{t}=N(),n=H(),a=Q(re),[o,c]=f.useState("phone"),[d,p]=f.useState(!1),[i,u]=f.useState({phone:"",code:"",password:""}),S=C({type:"warning",text:t("Please enter phone/username or password")}),x=C({type:"error",text:t("Login failed")}),w=C({type:"success",text:t("Login successful")}),y=C({type:"error",text:t("Invalid phone number format")}),v=C({type:"error",text:t("Verification code is required")}),_=C({type:"error",text:t("Enter the 4-digit code")}),$=g=>{u({phone:"",code:"",password:""}),c(g)},A=(g,b)=>{u({...i,[g]:b})},B=async g=>{if(g==="account"){if(i?.phone===""||i?.password===""){S();return}const b=await Xn(i);if(b?.message=="success"||b?.message=="成功"){w();const G=oe();V.setStorage({data:{Authorization:b?.token,expiryDate:G},success:()=>{a(j=>j+1),u({phone:"",code:"",password:""}),c("phone"),n("/")},fail:()=>{x(),u({phone:"",code:"",password:""})}})}else x(),u({phone:"",code:"",password:""});return}if(g==="phone"){if(!de(i?.phone)){y();return}if(i?.code===""){v();return}if(i?.code?.length!==4){_();return}const b=await es(i);if(b?.message=="success"||b?.message=="成功"){w();const G=oe();V.setStorage({data:{Authorization:b?.token,expiryDate:G},success:()=>{a(j=>j+1),u({phone:"",code:"",password:""}),c("phone"),n("/")},fail:()=>{x(),u({phone:"",code:"",password:""})}})}else x(),u({phone:"",code:"",password:""});return}},l=async()=>{if(!de(i?.phone)){y();return}const g=await ns(i?.phone);g?.message=="success"||g?.message=="成功"?w():x()};return s(R,{className:"relative flex-1 flex flex-col overflow-hidden",style:{backgroundColor:"var(--zmp-background-color)"},children:[e(D,{title:t("Login")}),s(r,{className:"flex flex-col items-center justify-center mx-6",children:[e(ye,{}),s(r,{className:"mt-24 w-full flex flex-col items-center justify-center gap-4",children:[e(r,{className:"w-full border-b border-[#D9E2ED]",children:e(I,{clearable:!0,className:"w-full border-none bg-transparent",value:i?.phone,onChange:g=>A("phone",g?.target?.value),placeholder:t(o==="phone"?"Enter phone number":"Enter phone number/account"),suffix:o==="phone"?e(m,{className:"text-[#A7AABB] w-[80px]",onClick:()=>l(),children:t("Get code")}):""})}),s(r,{className:"w-full border-b border-[#D9E2ED]",children:[o==="phone"&&e(I,{clearable:!0,className:"w-full border-none bg-transparent",placeholder:t("Verification Code"),value:i?.code,onChange:g=>A("code",g?.target?.value)}),o==="account"&&e(I,{clearable:!0,className:"w-full border-none bg-transparent",placeholder:t("Enter password"),suffix:e(r,{pr:4,onClick:()=>p(!d),children:e(P,{icon:d?"zi-unhide":"zi-hide"})}),type:d?"text":"password",value:i?.password,onChange:g=>A("password",g?.target?.value)})]})]}),s(r,{className:"mt-24 flex flex-col items-center justify-center gap-2 w-full",children:[e(k,{className:"w-full",onClick:()=>B(o),children:t("Login")}),o==="phone"&&s(r,{className:"flex items-center justify-between gap-2 w-full",children:[e(m,{className:"text-[#A7AABB]",children:t("Business Registration")}),e(m,{className:"text-[#A7AABB]",onClick:()=>$("account"),children:t("Account Login")})]}),o==="account"&&s(r,{className:"flex items-center justify-between gap-2 w-full",children:[e(m,{className:"text-[#A7AABB]",children:t("Forget Password")}),e(m,{onClick:()=>$("phone"),className:"text-[#A7AABB]",children:t("Phone Login")})]})]})]})]})};if(De().platform==="android"){const t=window.ZaloJavaScriptInterface?.getStatusBarHeight()??0,n=Math.round(t/window.devicePixelRatio);document.body.style.setProperty("--zaui-safe-area-inset-top",`${n}px`)}const Js=()=>{const t=ee();return s(r,{flex:!0,flexDirection:"column",className:"h-screen",children:[e(Wn,{}),e(r,{className:"flex-1 flex flex-col overflow-hidden",children:s(Me,{children:[e(L,{path:"/",element:e(xs,{})}),e(L,{path:"/auth",element:e(Ws,{})}),e(L,{path:"/auth/login",element:e(Ks,{})}),e(L,{path:"/chatmsg",element:e(ys,{})}),e(L,{path:"/profile",element:e(Cs,{})}),e(L,{path:"/profile/edit",element:e(Qs,{})}),e(L,{path:"/freight",element:e(Os,{})}),e(L,{path:"/freight/destination",element:e(Bs,{})}),e(L,{path:"/freight/:route",element:e(Ms,{})}),e(L,{path:"/freight/detail",element:e(zs,{})}),e(L,{path:"/express",element:e(Vs,{})})]})}),!t.pathname.includes("/freight/")&&e(Qn,{})]})},qs=({children:t,cssVariables:n})=>(f.useEffect(()=>(Object.keys(n).filter(a=>n[a]).forEach(a=>{document.documentElement.style.setProperty(`${a}`,n[a])}),()=>{Object.keys(n).forEach(a=>{document.documentElement.style.removeProperty(`${a}`)})}),[n]),e(q,{children:t})),Zs=()=>e(Fe,{children:e(qs,{cssVariables:{"--zmp-primary-color":jn(t=>t.template.primaryColor),"--zmp-background-color":"#f4f5f6"},children:e(Ge,{children:e(je,{children:e(Ue,{children:e(Js,{})})})})})});window.APP_CONFIG||(window.APP_CONFIG=he);const Ys=ze(document.getElementById("app"));Ys.render(Ve.createElement(Zs));
